<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Room Glow Up | Gunmetal Master</title>
<link href="https://fonts.googleapis.com/css2?family=Limelight&family=Special+Elite&display=swap" rel="stylesheet">
<style>
/* --- FOUNDATION --- */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
background: #0f1011 url("background_color.jpg") center / cover fixed;
min-height: 100vh; font-family: 'Special Elite', cursive; color: #fff;
overflow-y: auto; overflow-x: hidden;
}

/* --- MASSIVE HEADER --- */
.site-header { text-align: center; padding: 50px 0 20px; z-index: 2000; }
.brand-title {
font-family: 'Limelight', cursive; font-size: 95px; text-transform: uppercase;
background: linear-gradient(to bottom, #ffffff, #8e9196, #2c2e30);
-webkit-background-clip: text; -webkit-text-fill-color: transparent;
letter-spacing: 6px;
}
.sub-title { font-family: 'Limelight', cursive; font-size: 20px; letter-spacing: 10px; color: #ffffff; opacity: 0.9; margin-top: 10px; text-transform: uppercase; }

/* --- NAVIGATION --- */
.vintage-tabs { display: flex; justify-content: center; gap: 20px; padding: 20px 0; z-index: 1500; }

.drawer-hardware {
position: relative; width: 220px; height: 90px;
background: linear-gradient(135deg, #2c2e30 0%, #000 100%);
border: 3px solid #1a1a1a;
box-shadow: inset 0 0 15px rgba(255,255,255,0.05), 0 10px 20px rgba(0,0,0,0.8);
display: flex; align-items: center; justify-content: center; cursor: pointer;
transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* GUNMETAL SCREWS */
.drawer-hardware::before, .drawer-hardware::after {
content: ''; position: absolute; width: 8px; height: 8px;
background: #2a2d2f; border-radius: 50%;
box-shadow: inset -1px -1px 2px rgba(255,255,255,0.1), 1px 1px 2px rgba(0,0,0,0.8);
}
.drawer-hardware::before { top: 8px; left: 8px; box-shadow: 196px 66px 0 #2a2d2f; }
.drawer-hardware::after { top: 8px; right: 8px; box-shadow: -196px 66px 0 #2a2d2f; }

.drawer-hardware:hover { transform: translateY(10px); }
.active-lift { transform: translateY(15px) !important; border-color: #8e9196; z-index: 110; }

.plate-style {
width: 170px; height: 45px;
background: linear-gradient(145deg, #e0e0e0, #8e9196, #e0e0e0);
color: #000; display: flex; align-items: center; justify-content: center;
font-size: 16px; font-weight: bold; text-transform: uppercase;
border: 2px solid #444; box-shadow: inset 0 2px 8px rgba(0,0,0,0.5);
pointer-events: none;
}

.lip-pull {
position: absolute; bottom: -7px; left: 50%; transform: translateX(-50%);
width: 110px; height: 16px; background: linear-gradient(#333, #111, #000);
border-radius: 0 0 10px 10px; border: 1px solid #111;
}

/* --- WORKSPACE --- */
.workspace { display: flex; justify-content: flex-start; align-items: flex-start; min-height: 1100px; padding: 40px 60px; position: relative; }

/* --- CABINET (HIDDEN BY DEFAULT) --- */
.cabinet-container {
position: absolute; left: -500px; top: 20px; width: 480px;
z-index: 200; transition: left 0.8s cubic-bezier(0.19, 1, 0.22, 1);
}
.cabinet-visible { left: 40px !important; }
.cabinet-image { width: 100%; filter: drop-shadow(20px 0 60px #000); }

/* THE STACKED DRAWERS - LOCKED ON CABINET */
.drawer-stack {
position: absolute; top: 120px; left: 50%; transform: translateX(-50%);
width: 100%; display: flex; flex-direction: column; align-items: center; gap: 45px;
}

/* --- STAGE --- */
.stage {
width: 950px; height: 580px; background: #050505; border: 15px solid #2c2e30;
box-shadow: 0 0 120px black; margin-left: 520px; margin-top: 40px; z-index: 5; position: relative;
}
#room-display { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; display: none; }
.preview-mode { display: block !important; opacity: 1; }

/* --- SWATCH FAN SYSTEM --- */
.fan-system { position: absolute; left: 360px; z-index: 40; pointer-events: none; transition: top 0.3s ease; }

.swatch-blade {
position: absolute; left: 0; top: -32px; width: 0; height: 65px;
background: linear-gradient(to right, #444, #8e9196, #1a1a1a);
border: 1px solid #000; border-radius: 0 35px 35px 0;
transform-origin: left center; transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
opacity: 0; display: flex; align-items: center; justify-content: flex-end; padding-right: 25px;
box-shadow: 8px 4px 15px rgba(0,0,0,0.6);
}

.active-fan .swatch-blade { width: 340px; opacity: 1; pointer-events: auto; }

/* GUNMETAL HEX BOLT */
.pivot-bolt {
position: absolute; left: -14px; top: -14px; width: 28px; height: 28px;
background: radial-gradient(circle at 30% 30%, #4a4d4f, #2a2d2f, #000);
border: 2px solid #111; border-radius: 4px;
z-index: 50; opacity: 0; transition: 0.3s;
}
.active-fan .pivot-bolt { opacity: 1; }

.s-1 { transform: rotate(-40deg); z-index: 41; }
.s-2 { transform: rotate(-14deg); z-index: 42; }
.s-3 { transform: rotate(14deg); z-index: 43; }
.s-4 { transform: rotate(40deg); z-index: 44; }

.fan-icon { width: 55px; height: 55px; cursor: pointer; transition: 0.3s; filter: drop-shadow(0 2px 5px black) grayscale(0.8); }
.fan-icon:hover { transform: scale(1.25); filter: grayscale(0); }

.retracting .swatch-blade { width: 0 !important; opacity: 0 !important; }
.placed-item { position: absolute; width: 150px; cursor: move; z-index: 100; filter: drop-shadow(0 15px 25px black); }
</style>
</head>

<body>

<audio id="snd-slide" src="slide.mp3" preload="auto"></audio>
<audio id="snd-retract" src="retract.mp3" preload="auto"></audio>

<header class="site-header">
<h1 class="brand-title">Room Glow Up</h1>
<div class="sub-title">Your Dream Space Come To Life</div>
</header>

<nav class="vintage-tabs">
<div class="drawer-hardware" id="tab-rooms" onclick="lift(this); openCabinet()"><div class="plate-style">Rooms</div><div class="lip-pull"></div></div>
<div class="drawer-hardware" onclick="lift(this); openCabinet()"><div class="plate-style">Furniture</div><div class="lip-pull"></div></div>
<div class="drawer-hardware" onclick="lift(this)"><div class="plate-style">Decor</div><div class="lip-pull"></div></div>
<div class="drawer-hardware" onclick="lift(this)"><div class="plate-style">Inspiration</div><div class="lip-pull"></div></div>
<div class="drawer-hardware" onclick="lift(this)"><div class="plate-style">Save</div><div class="lip-pull"></div></div>
</nav>

<div class="workspace" id="main-ws">
<div class="cabinet-container" id="cab-container">
<img src="cabinet.png" class="cabinet-image">

<div class="drawer-stack" id="drawer-anchor">
<div class="drawer-row" onmouseover="preView('livingroom.jpg')" onmouseout="clearView()" onclick="lockRoom('livingroom.jpg', this)">
<div class="drawer-hardware"><div class="plate-style">Living Room</div><div class="lip-pull"></div></div>
</div>
<div class="drawer-row" onmouseover="preView('bedroom.jpg')" onmouseout="clearView()" onclick="lockRoom('bedroom.jpg', this)">
<div class="drawer-hardware"><div class="plate-style">Bedroom</div><div class="lip-pull"></div></div>
</div>
<div class="drawer-row" onmouseover="preView('diningroom.jpg')" onmouseout="clearView()" onclick="lockRoom('diningroom.jpg', this)">
<div class="drawer-hardware"><div class="plate-style">Dining Room</div><div class="lip-pull"></div></div>
</div>
<div class="drawer-row" onclick="lockRoom('custom', this)">
<div class="drawer-hardware" style="background:#1a1a1a;">
<div class="plate-style" style="background:#2a2d2f; color:#fff; border-color:#000;">Upload / Load</div>
<div class="lip-pull"></div>
</div>
</div>
</div>

<div id="fan-engine" class="fan-system">
<div class="pivot-bolt"></div>
<div class="swatch-blade s-1"><img src="icon_seating.png" class="fan-icon" onclick="swapFan('couches')"></div>
<div class="swatch-blade s-2"><img src="icon_storage.png" class="fan-icon" onclick="swapFan('storage')"></div>
<div class="swatch-blade s-3"><img src="icon_table.png" class="fan-icon" onclick="swapFan('tables')"></div>
<div class="swatch-blade s-4"><img src="icon_bed.png" class="fan-icon" onclick="swapFan('beds')"></div>
</div>
</div>

<div class="stage" id="stage-zone" ondragover="event.preventDefault()" ondrop="drop(event)">
<img id="room-display">
</div>
</div>

<script>
const roomImg = document.getElementById('room-display');
const cab = document.getElementById('cab-container');
const fan = document.getElementById('fan-engine');
const sndSlide = document.getElementById('snd-slide');
const sndRetract = document.getElementById('snd-retract');

function playSound(type) {
const s = document.getElementById('snd-' + type);
if(s) { s.currentTime = 0; s.play().catch(()=>{}); }
}

function lift(el) {
document.querySelectorAll('.drawer-hardware').forEach(d => d.classList.remove('active-lift'));
el.classList.add('active-lift');
}

function openCabinet() {
cab.classList.add('cabinet-visible');
}

function lockRoom(src, el) {
if(src !== 'custom') {
roomImg.src = src; roomImg.style.display = 'block'; roomImg.classList.add('locked');
}
fan.classList.remove('active-fan');
const rect = el.getBoundingClientRect();
const cabRect = cab.getBoundingClientRect();
// Dynamic centering for the fan based on whichever drawer is clicked
fan.style.top = (rect.top - cabRect.top + 45) + "px";
setTimeout(() => { playSound('slide'); fan.classList.add('active-fan'); }, 150);
}

function swapFan(type) {
playSound('retract');
fan.classList.add('retracting');
setTimeout(() => {
fan.classList.remove('retracting', 'active-fan');
setTimeout(() => { playSound('slide'); fan.classList.add('active-fan'); }, 100);
}, 500);
}

function preView(s) { if(!roomImg.classList.contains('locked')){ roomImg.src=s; roomImg.style.display='block'; roomImg.classList.add('preview-mode'); }}
function clearView() { if(!roomImg.classList.contains('locked')){ roomImg.style.display='none'; roomImg.classList.remove('preview-mode'); }}

function drop(ev) {
ev.preventDefault();
const src = ev.dataTransfer.getData("src");
if(!src) return;
const img = document.createElement("img");
img.src = src; img.className = "placed-item";
const rect = document.getElementById("stage-zone").getBoundingClientRect();
img.style.left = (ev.clientX - rect.left - 75) + "px";
img.style.top = (ev.clientY - rect.top - 75) + "px";
document.getElementById("stage-zone").appendChild(img);
}
</script>
</body>
</html>
