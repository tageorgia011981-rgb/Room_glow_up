<style>
    #decor-closet-section {
        margin-top: 150px;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding-bottom: 250px;
    }

    #closet-box { 
        width: 1150px; 
        height: 780px; 
        position: relative; 
        perspective: 3500px; 
        border: 18px solid #1a1a1a; 
        background: #111; 
        box-shadow: 0 60px 120px rgba(0,0,0,0.9); 
    }

    /* DOUBLE DOORS */
    .closet-door { 
        position: absolute; 
        width: 50%; 
        height: 100%; 
        transition: 2.2s cubic-bezier(0.4, 0, 0.2, 1); 
        z-index: 500; 
        cursor: pointer; 
    }
    .door-left { left: 0; transform-origin: left; } 
    .door-right { right: 0; transform-origin: right; }
    .closet-door img { width: 100%; height: 100%; object-fit: cover; }
    
    #closet-box.open .door-left { transform: rotateY(-155deg); }
    #closet-box.open .door-right { transform: rotateY(155deg); }
    
    /* INTERIOR SYSTEM */
    #closet-interior { 
        position: absolute; 
        width: 100%; 
        height: 100%; 
        background: url('Assets/decorclosetbackground.jpg') no-repeat center;
        background-size: cover; 
    }

    /* SHELF NAVIGATION (Library Style) */
    .closet-nav { 
        position: absolute; 
        bottom: 35px; 
        left: 50%; 
        transform: translateX(-50%); 
        display: flex; 
        gap: 25px; 
        z-index: 600; 
    }

    /* DECOR PRODUCTS */
    .decor-item {
        position: absolute;
        cursor: pointer;
        transition: transform 0.3s ease, filter 0.3s ease;
        z-index: 10;
    }
    .decor-item:hover {
        transform: scale(1.1);
        filter: brightness(1.3) drop-shadow(0 0 15px var(--glow-teal));
    }
</style>

<section id="decor-closet-section">
    <div id="closet-box">
        <div class="closet-door door-left" onclick="toggleCloset()"><img src="Assets/closetdoors.jpg"></div>
        <div class="closet-door door-right" onclick="toggleCloset()"><img src="Assets/closetdoors.jpg"></div>
        
        <div id="closet-interior">
            <div id="shelf-items-container">
                <img src="Assets/purplejar.png" class="decor-item" 
                     style="bottom: 180px; left: 150px; width: 100px;" 
                     onmouseover="peekDecor('purplejar.png')" 
                     onclick="addToRoom('purplejar.png', 'Purple Vintage Jar', '$24.00')">
            </div>
        </div>

        <div class="closet-nav">
            <div class="label-holder" style="width: 140px; height: 75px;" onclick="swapClosetShelf(1)">
                <div class="white-card"><span class="label-text" style="font-size: 11px;">Shelf 1</span></div>
                <div class="lip-pull"></div>
            </div>
            <div class="label-holder" style="width: 140px; height: 75px;" onclick="swapClosetShelf(2)">
                <div class="white-card"><span class="label-text" style="font-size: 11px;">Shelf 2</span></div>
                <div class="lip-pull"></div>
            </div>
            <div class="label-holder" style="width: 140px; height: 75px;" onclick="swapClosetShelf(3)">
                <div class="white-card"><span class="label-text" style="font-size: 11px;">Shelf 3</span></div>
                <div class="lip-pull"></div>
            </div>
        </div>
    </div>
</section>

<script>
    function toggleCloset() {
        document.getElementById('closet-box').classList.toggle('open');
    }

    function swapClosetShelf(num) {
        const interior = document.getElementById('closet-interior');
        const backgrounds = [
            'decorclosetbackground.jpg', 
            'decorshelves2.jpg', 
            'decorshelves3.jpg'
        ];
        interior.style.backgroundImage = `url('Assets/${backgrounds[num-1]}')`;
        // Logic to clear and repopulate decor-items based on personality goes here
    }

    function peekDecor(img) {
        // Mirrors the Room peek logic
        document.getElementById('room-display').style.backgroundImage = `url('Assets/${img}')`;
    }

    function addToRoom(img, name, price) {
        console.log("Added to Bill: " + name + " at " + price);
        // This is where the click commits the item to the bill
    }
</script>
