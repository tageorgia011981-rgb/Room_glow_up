<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room Glow Up | Your Dream Space</title>
    <link href="https://fonts.googleapis.com/css2?family=Limelight&family=Special+Elite&display=swap" rel="stylesheet">
    <style>
        :root {
            --teal-glow: #00ffff;
            --gunmetal: #2c2c2c;
            --silver: #c0c0c0;
            --metal-shine: linear-gradient(145deg, #444, #111);
        }

        body, html {
            margin: 0; padding: 0;
            height: 100%; width: 100%;
            background: url('Assets/mainbackground.jpg') no-repeat center center fixed;
            background-size: cover;
            overflow: hidden;
            font-family: 'Special Elite', typewriter;
        }

        /* --- HEADERS --- */
        header { text-align: center; padding: 20px; z-index: 1000; position: relative; }
        .headline { font-family: 'Limelight'; font-size: 70px; color: var(--silver); margin: 0; text-shadow: 3px 3px 10px #000; }
        .sub-header { font-family: 'Limelight'; font-size: 22px; color: var(--silver); margin-top: -5px; }

        /* --- LIBRARY TABS --- */
        .nav-tabs { display: flex; justify-content: center; gap: 15px; margin-top: 20px; }
        .tab-holder { width: 160px; cursor: pointer; transition: 0.3s; }
        .tab-label { background: #fff; color: #000; padding: 8px; font-weight: bold; text-align: center; border: 1px solid #444; }
        .tab-lip { height: 12px; background: var(--metal-shine); border-radius: 0 0 5px 5px; }
        .tab-holder:hover .tab-label { background: var(--teal-glow); box-shadow: 0 0 15px var(--teal-glow); }

        /* --- THE STAGE --- */
        #stage { 
            width: 100vw; height: 100vh; position: absolute; top: 0; left: 0;
            background-size: cover; background-position: center; z-index: 1;
        }

        /* --- ROOM CABINET (LEFT) --- */
        #room-cabinet {
            position: fixed; left: -450px; top: 150px; width: 400px; z-index: 2000;
            transition: left 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        }
        #room-cabinet.active { left: 0; }

        /* --- FURNITURE CATALOG (TOP) --- */
        #catalog-book {
            position: fixed; top: -550px; left: 50%; transform: translateX(-50%);
            width: 900px; height: 500px; z-index: 3000;
            background: url('Assets/furniturecatalog.png') no-repeat center;
            background-size: contain; transition: top 0.7s ease-in-out;
        }
        #catalog-book.active { top: 20px; }

        /* --- DECOR CLOSET (SWING DOORS) --- */
        #closet-popup {
            position: fixed; right: 50px; top: 150px; width: 350px; height: 500px;
            z-index: 4000; perspective: 1000px; display: none;
        }
        .door {
            position: absolute; width: 50%; height: 100%; background: #333;
            border: 2px solid #444; transition: 1s; z-index: 5; transform-style: preserve-3d;
        }
        .door.left { left: 0; transform-origin: left; }
        .door.right { right: 0; transform-origin: right; }
        #closet-popup.open .left { transform: rotateY(-120deg); }
        #closet-popup.open .right { transform: rotateY(120deg); }
        .closet-inside {
            position: absolute; width: 100%; height: 100%; z-index: 1;
            background: url('Assets/decorclosetbackground.jpg') no-repeat center; background-size: cover;
        }

        /* --- SCROLL RECEIPT (SAVE/CHECKOUT) --- */
        #scroll-receipt {
            position: fixed; top: -100%; left: 50%; transform: translateX(-50%);
            width: 400px; height: 80%; background: url('Assets/scrollreceipt.jpg') no-repeat center;
            background-size: contain; z-index: 5000; transition: top 1s ease-in-out;
            padding: 100px 40px; box-sizing: border-box; text-align: center;
        }
        #scroll-receipt.active { top: 50px; }

        /* --- PLACED ITEMS --- */
        .placed-item { position: absolute; cursor: move; z-index: 10; width: 150px; }
    </style>
</head>
<body>

<header>
    <h1 class="headline">Room Glow Up</h1>
    <p class="sub-header">Where Your Dream Space Comes To Life</p>
    
    <div class="nav-tabs">
        <div class="tab-holder" onclick="toggleRoomCabinet()"><div class="tab-label">Rooms</div><div class="tab-lip"></div></div>
        <div class="tab-holder" onclick="toggleCatalog()"><div class="tab-label">Furniture Catalog</div><div class="tab-lip"></div></div>
        <div class="tab-holder" onclick="toggleCloset()"><div class="tab-label">Decor Closet</div><div class="tab-lip"></div></div>
        <div class="tab-holder"><div class="tab-label">Inspirational Walkthrough</div><div class="tab-lip"></div></div>
        <div class="tab-holder" onclick="toggleScroll()"><div class="tab-label">Save / Checkout</div><div class="tab-lip"></div></div>
    </div>
</header>

<div id="stage"></div>

<div id="room-cabinet">
    <img src="Assets/cabinet.png" style="width:100%;">
    <button onclick="cycleRoom('living')">Living Room</button>
    <button onclick="cycleRoom('bedroom')">Bedroom</button>
</div>

<div id="catalog-book">
    <div id="catalog-items" style="display:flex; justify-content:space-around; padding-top:100px;">
        <img src="Assets/couch_thumb.png" draggable="true" ondragstart="drag(event)" id="item1" data-price="850" data-name="Studio Couch">
    </div>
</div>

<div id="closet-popup">
    <div class="door left"></div>
    <div class="door right"></div>
    <div class="closet-inside">
        </div>
</div>

<div id="scroll-receipt">
    <h2 style="font-size:18px;">Your Design Bill</h2>
    <div id="bill-items" style="max-height: 400px; overflow-y:auto;"></div>
</div>

<script>
    let bill = [];

    // --- CABINET LOGIC ---
    function toggleRoomCabinet() {
        document.getElementById('room-cabinet').classList.toggle('active');
    }

    const rooms = {
        living: ['livingroom1.jpg', 'livingroom3.jpg'],
        bedroom: ['bedroom.jpg', 'bedroom2.jpg']
    };
    let currentLiving = 0;

    function cycleRoom(type) {
        currentLiving = (currentLiving + 1) % rooms[type].length;
        document.getElementById('stage').style.backgroundImage = `url('Assets/${rooms[type][currentLiving]}')`;
    }

    // --- CATALOG LOGIC ---
    function toggleCatalog() {
        document.getElementById('catalog-book').classList.toggle('active');
    }

    // --- CLOSET LOGIC ---
    function toggleCloset() {
        const closet = document.getElementById('closet-popup');
        closet.style.display = 'block';
        setTimeout(() => closet.classList.toggle('open'), 10);
    }

    // --- DRAG & DROP & AFFILIATE LOGIC ---
    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
        ev.dataTransfer.setData("name", ev.target.dataset.name);
        ev.dataTransfer.setData("price", ev.target.dataset.price);
    }

    document.getElementById('stage').ondragover = (e) => e.preventDefault();
    document.getElementById('stage').ondrop = (e) => {
        e.preventDefault();
        const name = e.dataTransfer.getData("name");
        const price = e.dataTransfer.getData("price");
        
        // Add to the bill for scrollreceipt.jpg
        bill.push({ name, price });
        
        // Place on stage
        const img = document.createElement('img');
        img.src = 'Assets/couch_thumb.png'; // Simplify for demo
        img.className = 'placed-item';
        img.style.left = e.pageX + 'px';
        img.style.top = e.pageY + 'px';
        img.ondblclick = function() { this.remove(); }; // Remove on double click
        document.getElementById('stage').appendChild(img);
    };

    // --- SCROLL RECEIPT ---
    function toggleScroll() {
        const list = document.getElementById('bill-items');
        list.innerHTML = bill.map(i => `<p>${i.name}: $${i.price}</p>`).join('');
        document.getElementById('scroll-receipt').classList.toggle('active');
    }
</script>

</body>
</html>
