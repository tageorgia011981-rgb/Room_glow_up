<div id="theater-container" ondragover="allowDrop(event)" ondrop="dropDecor(event)">
    <div id="room-display">
        </div>
</div>

<script>
    // 1. Tell the browser it's okay to drop things here
    function allowDrop(ev) {
        ev.preventDefault();
    }

    // 2. The Logic for when you let go of the mouse
    function dropDecor(ev) {
        ev.preventDefault();
        
        // Get the image path we stored during 'pickUp'
        const imagePath = ev.dataTransfer.getData("text");
        
        // Create a new image element for the room
        const newDecor = document.createElement("img");
        newDecor.src = imagePath;
        newDecor.className = "placed-decor";
        
        // Position it exactly where you dropped it
        const rect = ev.target.getBoundingClientRect();
        const x = ev.clientX - rect.left;
        const y = ev.clientY - rect.top;
        
        newDecor.style.left = (x - 50) + "px"; // Offset by half width to center it
        newDecor.style.top = (y - 100) + "px"; // Offset to make it sit on the 'floor'
        
        document.getElementById('room-display').appendChild(newDecor);
        
        // Close the closet automatically after a drop
        exitCloset();
    }
</script>

<style>
    /* Ensure the room display can hold absolute-positioned items */
    #room-display {
        position: relative;
        overflow: hidden;
    }

    /* Style for the plants once they are inside the room */
    .placed-decor {
        position: absolute;
        width: 150px; /* Adjust size as needed */
        height: auto;
        pointer-events: auto; /* Let you move them again later if you want */
        cursor: move;
        filter: drop-shadow(5px 10px 15px rgba(0,0,0,0.5)); /* Adds a 'baked-in' shadow to the floor */
    }
</style>
