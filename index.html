<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room Glow Up - Designer Studio</title>
    <style>
        :root {
            --silver: #C0C0C0;
            --gold: #D4AF37;
        }

        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            background-color: #1a1a1a;
            font-family: 'Courier New', Courier, monospace;
        }

        /* --- THE THEATER STAGE (CANVAS) --- */
        #theater-stage {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
        }

        #room-canvas {
            width: 800px;
            height: 500px;
            background: #333; /* Placeholder for room background */
            border: 5px solid #000;
            position: relative;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
            z-index: 5;
        }

        /* --- CATALOG BOOKS (TOP) --- */
        .catalog-container {
            position: absolute;
            top: 20px;
            display: flex;
            gap: 50px;
            z-index: 10;
        }

        .book {
            width: 150px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .book:hover { transform: scale(1.1); }

        /* --- THE DECOR CLOSET (BOTTOM RISING) --- */
        #decor-closet-unit {
            position: absolute;
            bottom: -350px; /* Hidden state */
            left: 50%;
            transform: translateX(-50%);
            width: 600px;
            height: 450px;
            transition: bottom 0.8s ease-in-out;
            z-index: 20;
        }

        #decor-closet-unit.active { bottom: 20px; }

        .door-frame {
            position: relative;
            width: 100%;
            height: 100%;
            perspective: 1500px;
        }

        /* 3D Swinging Doors */
        .door {
            position: absolute;
            width: 50%;
            height: 100%;
            background-image: url('image_49ac01.jpg'); /* Black and Silver Doors */
            background-size: cover;
            transition: transform 1.2s;
            transform-style: preserve-3d;
            z-index: 25;
        }

        .door.left { left: 0; transform-origin: left; }
        .door.right { right: 0; transform-origin: right; }

        #decor-closet-unit.open .door.left { transform: rotateY(-110deg); }
        #decor-closet-unit.open .door.right { transform: rotateY(110deg); }

        /* Closet Interior (The Rooms) */
        #closet-interior {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .closet-room {
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            position: absolute;
            display: none;
        }

        .closet-room.active { display: block; }

        /* Nav Arrows */
        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.5);
            color: var(--gold);
            padding: 15px;
            cursor: pointer;
            z-index: 30;
            border: 1px solid var(--gold);
        }

        .arrow-left { left: 10px; }
        .arrow-right { right: 10px; }

        /* --- THE GOLD SCROLL (RECEIPT) --- */
        #gold-scroll {
            position: absolute;
            top: -100%;
            right: 50px;
            width: 300px;
            background-image: url('image_4995db.png');
            background-size: 100% 100%;
            padding: 60px 20px 40px 20px;
            transition: top 1s ease-in-out;
            z-index: 15;
            min-height: 400px;
        }

        #receipt-content {
            color: var(--silver);
            font-size: 14px;
            line-height: 1.6;
        }

        #gold-scroll.roll-down { top: 20px; }

        /* Draggable/Sent Items */
        .placed-item {
            position: absolute;
            cursor: move;
            max-width: 150px;
        }
    </style>
</head>
<body>

    <div id="theater-stage">
        <div class="catalog-container">
            <img src="image_499dbb.png" class="book" id="furniture-book" title="Furniture Catalog">
            <img src="image_4a0dfc.jpg" class="book" id="decor-book" title="Decor Catalog">
        </div>

        <div id="room-canvas"></div>

        <div id="gold-scroll">
            <div id="receipt-content">
                <center><strong>DESIGN LEDGER</strong></center><br>
                <div id="item-list"></div>
            </div>
        </div>

        <div id="decor-closet-unit">
            <div class="door-frame">
                <div class="door left"></div>
                <div class="door right"></div>
                
                <div id="closet-interior">
                    <div class="nav-arrow arrow-left" onclick="changeRoom(-1)">&#10094;</div>
                    <div class="nav-arrow arrow-right" onclick="changeRoom(1)">&#10095;</div>

                    <div class="closet-room active" id="room-0" style="background-image: url('image_4a063f.jpg');" onclick="handleItemClick('Plant', 'image_4a063f.jpg')"></div>
                    <div class="closet-room" id="room-1" style="background-image: url('image_4a1923.jpg');" onclick="handleItemClick('Lamp', 'image_4a1923.jpg')"></div>
                    <div class="closet-room" id="room-2" style="background-image: url('image_4a15f5.jpg');" onclick="handleItemClick('Pillow', 'image_4a15f5.jpg')"></div>
                    <div class="closet-room" id="room-3" style="background-image: url('image_4a8d5e.jpg');" onclick="handleItemClick('Vase', 'image_4a8d5e.jpg')"></div>
                    <div class="closet-room" id="room-4" style="background-image: url('image_4a94df.jpg');" onclick="handleItemClick('Rug', 'image_4a94df.jpg')"></div>
                </div>
            </div>
        </div>

        <button style="position:absolute; bottom:0; left:50%; transform:translateX(-50%); z-index:100;" onclick="toggleCloset()">OPEN DECOR CLOSET</button>
        <button style="position:absolute; top:10px; right:10px; z-index:100;" onclick="toggleScroll()">FINALIZE GLOW UP</button>
    </div>

    <script>
        let currentRoom = 0;
        const totalRooms = 5;

        function toggleCloset() {
            const closet = document.getElementById('decor-closet-unit');
            closet.classList.toggle('active');
            setTimeout(() => {
                closet.classList.toggle('open');
            }, 800);
        }

        function changeRoom(dir) {
            document.getElementById(`room-${currentRoom}`).classList.remove('active');
            currentRoom = (currentRoom + dir + totalRooms) % totalRooms;
            document.getElementById(`room-${currentRoom}`).classList.add('active');
        }

        function handleItemClick(name, imgSrc) {
            // Double-click logic to send to room
            const canvas = document.getElementById('room-canvas');
            const newItem = document.createElement('div');
            newItem.className = 'placed-item';
            newItem.style.left = '50px';
            newItem.style.top = '50px';
            newItem.innerHTML = `<img src="${imgSrc}" style="width:100px;">`;
            canvas.appendChild(newItem);

            // Add to unified scroll
            const itemList = document.getElementById('item-list');
            const entry = document.createElement('div');
            entry.innerHTML = `- ${name.toUpperCase()} ... <a href="#" style="color:var(--silver); text-decoration:none;">[BUY]</a>`;
            itemList.appendChild(entry);
            
            // Open Purple Book
            document.getElementById('decor-book').style.transform = 'scale(1.2) rotate(-5deg)';
        }

        function toggleScroll() {
            document.getElementById('gold-scroll').classList.toggle('roll-down');
        }
    </script>
</body>
</html>
