/* --- GLOBAL ATMOSPHERE --- */
* { margin: 0; padding: 0; box-sizing: border-box; }

body { 
  background: #0f1011 url("background_color.jpg") center / cover fixed; 
  min-height: 100vh; font-family: 'Special Elite', cursive; color: #fff; overflow-x: hidden; 
  position: relative;
}

/* FILM GRAIN & VIGNETTE */
body::before {
  content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 9000;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
  opacity: 0.3;
}
body::after {
  content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 8000;
  background: radial-gradient(circle at 60% 50%, transparent 60%, rgba(0,0,0,0.8) 120%);
}

/* --- HEADER --- */
.site-header { text-align: center; padding: 60px 0 30px; position: relative; z-index: 10; }
@keyframes breathe {
  0%, 100% { text-shadow: 0px 5px 15px rgba(0,0,0,0.6); }
  50% { text-shadow: 0px 5px 25px rgba(255,255,255,0.3); }
}
.brand-title { 
  font-family: 'Limelight', cursive; font-size: 100px; text-transform: uppercase; 
  background: linear-gradient(to bottom, #ffffff 0%, #dcdcdc 50%, #8e9196 51%, #a8a8a8 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  letter-spacing: 4px; animation: breathe 5s infinite ease-in-out; 
}
.sub-title { font-size: 24px; color: #8e9196; letter-spacing: 8px; margin-top: -10px; text-transform: uppercase; text-shadow: 0px 2px 4px #000; }

/* --- TABS & DRAWER HARDWARE --- */
.vintage-tabs { display: flex; justify-content: center; gap: 30px; padding: 30px 0; z-index: 2000; position: relative; }
.drawer-hardware {
  position: relative; width: 280px; height: 100px; 
  background: linear-gradient(135deg, #2c2e30 0%, #1a1a1a 100%); 
  border: 3px solid #000;
  box-shadow: inset 0 0 0 2px #444, inset 10px 0 20px rgba(0,0,0,0.8), 0 15px 25px rgba(0,0,0,0.8);
  display: flex; align-items: center; justify-content: center; 
  cursor: pointer; transition: transform 0.2s, filter 0.2s;
  z-index: 2000;
}
.drawer-hardware:hover { filter: brightness(1.3) contrast(1.1); transform: translateY(-4px); }
.plate-style { 
  width: 190px; height: 50px; 
  background: linear-gradient(to bottom, #dcdcdc 0%, #8e9196 50%, #b0b0b0 100%);
  color: #000; display: flex; align-items: center; justify-content: center; 
  font-family: 'Special Elite', cursive; font-size: 18px; font-weight: 900; text-transform: uppercase; 
  letter-spacing: 1px; border: 1px solid #666; box-shadow: inset 0 2px 5px rgba(0,0,0,0.2);
  text-align: center; line-height: 1; pointer-events: none;
}
.lip-pull { 
  position: absolute; bottom: -14px; left: 50%; transform: translateX(-50%); 
  width: 140px; height: 24px; background: linear-gradient(to bottom, #2c2e30, #000); 
  border: 2px solid #111; border-top: none; border-radius: 0 0 15px 15px; box-shadow: 0 5px 10px rgba(0,0,0,0.8);
}
.active-lift { transform: translateY(15px) !important; filter: brightness(1.4) !important; }

/* --- WORKSPACE --- */
.workspace { display: flex; padding: 40px; position: relative; height: 900px; }
.cabinet-container { 
  position: absolute; left: -800px; top: 0; width: 700px; 
  transition: left 0.8s cubic-bezier(0.19, 1, 0.22, 1); z-index: 100;
}
.cabinet-visible { left: 20px !important; } 
.cabinet-image { width: 100%; filter: drop-shadow(15px 15px 40px rgba(0,0,0,0.9)); }
.drawer-stack { 
  position: absolute; top: 140px; left: 0; width: 100%; 
  display: flex; flex-direction: column; align-items: center; gap: 30px; 
}
.drawer-zone { width: 100%; height: 120px; cursor: pointer; display: flex; align-items: center; justify-content: center; }

/* --- FAN SYSTEM --- */
.fan-system { position: absolute; z-index: 50; pointer-events: none; transition: top 0.3s ease, left 0.3s ease; }

.swatch-blade {
  position: absolute; left: 0; top: -32px; width: 0; height: 75px;
  background: linear-gradient(to right, #444, #8e9196, #1a1a1a);
  border: 2px solid #000; border-radius: 0 40px 40px 0;
  transform-origin: left center; 
  transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  opacity: 0; display: flex; align-items: center; justify-content: flex-end; padding-right: 25px;
  box-shadow: 10px 10px 20px rgba(0,0,0,0.7);
}

.swatch-blade:hover {
  background: #fff;
  border-color: #fff;
  z-index: 100 !important;
  box-shadow: 0 0 20px rgba(255,255,255,0.6);
}

.active-fan .swatch-blade { width: 320px; opacity: 1; pointer-events: auto; }

/* 5-Blade Spread for Cabinet (Sideways) */
.active-fan .s-1 { transform: rotate(-50deg); z-index: 45; }
.active-fan .s-2 { transform: rotate(-25deg); z-index: 44; }
.active-fan .s-3 { transform: rotate(0deg); z-index: 43; }
.active-fan .s-4 { transform: rotate(25deg); z-index: 42; }
.active-fan .s-5 { transform: rotate(50deg); z-index: 41; }

/* 5-Blade Spread for Decor (Downward) */
.fan-down .swatch-blade { 
  width: 80px; height: 0; top: 60px; left: -40px; 
  transform-origin: top center; border-radius: 0 0 25px 25px; 
  justify-content: center; padding: 0; 
  background: linear-gradient(to bottom, #dcdcdc, #999, #666);
  border: 2px solid #222; 
}
.fan-down.active-fan .swatch-blade { height: 180px; opacity: 1; }

.fan-down.active-fan .s-1 { transform: rotate(60deg) translateY(10px); z-index: 45; }
.fan-down.active-fan .s-2 { transform: rotate(30deg) translateY(10px); z-index: 44; }
.fan-down.active-fan .s-3 { transform: rotate(0deg) translateY(10px); z-index: 43; }
.fan-down.active-fan .s-4 { transform: rotate(-30deg) translateY(10px); z-index: 42; }
.fan-down.active-fan .s-5 { transform: rotate(-60deg) translateY(10px); z-index: 41; }

/* ICONS & TEXT */
.fan-icon { width: 60px; height: 60px; cursor: pointer; transition: 0.3s; filter: drop-shadow(0 4px 8px black) grayscale(0.5); object-fit: contain; }
.fan-icon:hover { transform: scale(1.25); filter: grayscale(0); }

.fan-text { 
  color: #000; font-family: 'Special Elite', cursive; font-weight: 900; 
  font-size: 18px; text-transform: uppercase; cursor: pointer; 
}
.fan-down .fan-text { writing-mode: vertical-rl; transform: rotate(180deg); font-size: 20px; letter-spacing: 3px; }

.pivot-bolt {
  position: absolute; left: -18px; top: -18px; width: 36px; height: 36px;
  background: radial-gradient(circle at 30% 30%, #4a4d4f, #2a2d2f, #000);
  border: 3px solid #000; border-radius: 5px; z-index: 100; opacity: 0; transition: 0.3s;
}
.active-fan .pivot-bolt { opacity: 1; }

/* --- STAGE --- */
.stage { 
  width: calc(100% - 750px); min-width: 600px;
  height: 750px; background: #050505; border: 20px solid #2c2e30; 
  margin-left: 720px; margin-top: 50px;
  position: relative; overflow: hidden; box-shadow: inset 0 0 80px #000;
}
.stage::before {
  content: ''; position: absolute; inset: -50px;
  background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  background-size: 40px 40px;
  animation: gridMove 20s linear infinite; z-index: 1; pointer-events: none;
}
@keyframes gridMove { 0% { background-position: 0 0; } 100% { background-position: 40px 40px; } }

#room-display { width: 100%; height: 100%; object-fit: cover; display: none; position: relative; z-index: 10; }
.placed-item { position: absolute; width: 200px; cursor: move; z-index: 1500; filter: drop-shadow(10px 15px 20px rgba(0,0,0,0.6)); }

/* --- OVERLAYS --- */
.overlay-bg { position: fixed; inset: 0; background: rgba(5, 5, 5, 0.96); z-index: 5000; display: none; padding: 50px; }
.catalog-container { position: relative; display: flex; height: 85vh; background: #000; border: 4px solid #333; box-shadow: 0 0 80px rgba(0,0,0,1); }
.close-btn { 
  position: fixed; top: 40px; right: 60px; width: 80px; height: 80px;
  font-size: 80px; color: #fff; background: #000; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; transition: 0.3s; z-index: 9999; border: 2px solid #555;
}
.close-btn:hover { color: #f00; transform: rotate(90deg); border-color: #f00; }

/* --- CATALOG STYLING --- */
.index-column { flex: 1; border-right: 2px solid #222; padding: 30px; overflow-y: auto; background: #0b0b0b; }
.index-column h3 { color: #8e9196; margin-bottom: 25px; font-size: 24px; text-transform: uppercase; border-bottom: 2px solid #333; padding-bottom: 15px; }
.search-box { width: 100%; padding: 12px; margin-bottom: 20px; background: #1a1a1a; border: 1px solid #444; color: #fff; font-family: 'Special Elite', cursive; font-size: 16px; }
.index-item { padding: 20px; margin-bottom: 15px; border: 1px solid #333; background: #161616; cursor: pointer; text-transform: uppercase; color: #777; transition: 0.2s; font-weight: bold; font-size: 18px; }
.index-item:hover, .selected { background: #8e9196; color: #000; border-color: #fff; transform: translateX(10px); }
.asset-view { flex: 3; display: flex; flex-direction: column; background: #111; }
.asset-grid { flex: 1; display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 30px; padding: 40px; overflow-y: auto; }
.asset-card { background: #1a1a1a; padding: 20px; text-align: center; border: 1px solid #333; transition: 0.3s; position: relative; }
.asset-card img { width: 100%; height: 150px; object-fit: contain; margin-bottom: 10px; }
.item-code { position: absolute; top: 10px; right: 10px; font-size: 12px; color: #666; font-weight: bold; border: 1px solid #333; padding: 2px 5px; }
.btn-row { display: flex; gap: 10px; margin-top: 15px; }
.shop-btn, .add-btn { flex: 1; padding: 8px; cursor: pointer; font-family: inherit; font-weight: bold; text-transform: uppercase; font-size: 14px; border: 1px solid #fff; }
.shop-btn { background: #333; color:#aaa; border-color: #555; }
.add-btn { background: #8e9196; color:#000; }
.manifest-toggle { background: #000; color: #fff; border: 1px solid #444; padding: 10px; width: 100%; margin-bottom: 20px; cursor: pointer; font-weight: bold; text-transform: uppercase; }
#manifest-view { display: none; padding: 40px; }
.receipt-item { display: flex; justify-content: space-between; margin-bottom: 10px; border-bottom: 1px dotted #ccc; padding-bottom: 5px; color: #ccc; }
.receipt-total { border-top: 2px dashed #444; padding-top: 20px; margin-top: 20px; font-size: 24px; font-weight: bold; text-align: right; color: #8e9196; }

/* LOOKBOOK */
.lookbook-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 40px; padding: 50px; overflow-y: auto; width: 100%; }
.look-card { background: #fff; padding: 15px 15px 50px 15px; transform: rotate(2deg); transition: 0.3s; box-shadow: 0 10px 30px rgba(0,0,0,0.5); height: 350px; }
.look-card:hover { transform: scale(1.05) rotate(0deg); z-index: 10; }
.look-card img { width: 100%; height: 100%; object-fit: cover; filter: sepia(0.2); }
.nav-arrow { position: absolute; top: 50%; transform: translateY(-50%); font-size: 80px; color: #444; cursor: pointer; z-index: 5500; transition: 0.3s; text-shadow: 0 5px 10px #000; }
.nav-arrow:hover { color: #fff; transform: translateY(-50%) scale(1.1); }
.prev-arrow { left: 20px; } .next-arrow { right: 20px; }.reset-btn {
    position: absolute;
    bottom: 20px;
    right: 20px;
    padding: 10px 20px;
    background: #8e9196;
    color: #000;
    border: 2px solid #000;
    font-family: 'Special Elite', cursive;
    font-weight: bold;
    text-transform: uppercase;
    cursor: pointer;
    z-index: 2000;
    transition: 0.2s;
}
.reset-btn:hover {
    background: #ff4444;
    color: #fff;
}

